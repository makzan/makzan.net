function Swipe(n,t){"use strict";function e(){E=T.children,b=E.length,E.length<2&&(t.continuous=!1),h.transitions&&t.continuous&&E.length<3&&(T.appendChild(E[0].cloneNode(!0)),T.appendChild(T.children[1].cloneNode(!0)),E=T.children),x=new Array(E.length),g=n.getBoundingClientRect().width||n.offsetWidth,T.style.width=E.length*g+"px";for(var e=E.length;e--;){var i=E[e];i.style.width=g+"px",i.setAttribute("data-index",e),h.transitions&&(i.style.left=e*-g+"px",a(e,y>e?-g:e>y?g:0,0))}t.continuous&&h.transitions&&(a(s(y-1),-g,0),a(s(y+1),g,0)),h.transitions||(T.style.left=y*-g+"px"),n.style.visibility="visible"}function i(){t.continuous?r(y-1):y&&r(y-1)}function o(){t.continuous?r(y+1):y<E.length-1&&r(y+1)}function s(n){return(E.length+n%E.length)%E.length}function r(n,e){if(y!=n){if(h.transitions){var i=Math.abs(y-n)/(y-n);if(t.continuous){var o=i;i=-x[s(n)]/g,i!==o&&(n=-i*E.length+n)}for(var r=Math.abs(y-n)-1;r--;)a(s((n>y?n:y)-r-1),g*i,0);n=s(n),a(y,g*i,e||L),a(n,0,e||L),t.continuous&&a(s(n-i),-(g*i),0)}else n=s(n),c(y*-g,n*-g,e||L);y=n,f(t.callback&&t.callback(y,E[y]))}}function a(n,t,e){u(n,t,e),x[n]=t}function u(n,t,e){var i=E[n],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=e+"ms",o.webkitTransform="translate("+t+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+t+"px)")}function c(n,e,i){if(!i)return void(T.style.left=e+"px");var o=+new Date,s=setInterval(function(){var r=+new Date-o;return r>i?(T.style.left=e+"px",M&&d(),t.transitionEnd&&t.transitionEnd.call(event,y,E[y]),void clearInterval(s)):void(T.style.left=(e-n)*(Math.floor(r/i*100)/100)+n+"px")},4)}function d(){k=setTimeout(o,M)}function l(){M=0,clearTimeout(k)}var v=function(){},f=function(n){setTimeout(n||v,0)},h={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,mstouch:window.navigator&&window.navigator.msPointerEnabled,transitions:function(n){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in t)if(void 0!==n.style[t[e]])return!0;return!1}(document.createElement("swipe"))},w="mousedown",m="mousemove",p="mouseup";if(h.touch?(w="touchstart",m="touchmove",p="touchend"):h.mstouch&&(w="MSPointerDown",m="MSPointerMove",p="MSPointerUp"),n){var E,x,g,b,T=n.children[0];t=t||{};var y=parseInt(t.startSlide,10)||0,L=t.speed||300;t.continuous=void 0!==t.continuous?t.continuous:!0;var k,D,M=t.auto||0,S={},P={},z={handleEvent:function(n){switch(n.type){case w:this.start(n);break;case m:this.move(n);break;case p:f(this.end(n));break;case"click":n.preventDefault(),n.stopImmediatePropagation();break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":f(this.transitionEnd(n));break;case"resize":f(e.call())}t.stopPropagation&&n.stopPropagation()},start:function(n){var t=h.touch?n.touches[0]:n;h.touch||n.preventDefault(),S={x:t.pageX,y:t.pageY,time:+new Date},D=void 0,P={},T.addEventListener(m,this,!1),T.addEventListener(p,this,!1)},move:function(n){if(!(n.touches&&n.touches.length>1||n.scale&&1!==n.scale)){t.disableScroll&&n.preventDefault();var e=h.touch?n.touches[0]:n;P={x:e.pageX-S.x,y:e.pageY-S.y},"undefined"==typeof D&&(D=!!(D||Math.abs(P.x)<Math.abs(P.y))),D||(n.preventDefault(),l(),t.continuous?(u(s(y-1),P.x+x[s(y-1)],0),u(y,P.x+x[y],0),u(s(y+1),P.x+x[s(y+1)],0)):(P.x=P.x/(!y&&P.x>0||y==E.length-1&&P.x<0?Math.abs(P.x)/g+1:1),u(y-1,P.x+x[y-1],0),u(y,P.x+x[y],0),u(y+1,P.x+x[y+1],0)))}},end:function(){var n=+new Date-S.time,e=Number(n)<250&&Math.abs(P.x)>20||Math.abs(P.x)>g/2,i=!y&&P.x>0||y==E.length-1&&P.x<0;t.continuous&&(i=!1);var o=P.x<0;D||(e&&!i?(o?(t.continuous?(a(s(y-1),-g,0),a(s(y+2),g,0)):a(y-1,-g,0),a(y,x[y]-g,L),a(s(y+1),x[s(y+1)]-g,L),y=s(y+1)):(t.continuous?(a(s(y+1),g,0),a(s(y-2),-g,0)):a(y+1,g,0),a(y,x[y]+g,L),a(s(y-1),x[s(y-1)]+g,L),y=s(y-1)),t.callback&&t.callback(y,E[y])):t.continuous?(a(s(y-1),-g,L),a(y,0,L),a(s(y+1),g,L)):(a(y-1,-g,L),a(y,0,L),a(y+1,g,L))),T.removeEventListener(m,z,!1),T.removeEventListener(p,z,!1)},transitionEnd:function(n){parseInt(n.target.getAttribute("data-index"),10)==y&&(M&&d(),t.transitionEnd&&t.transitionEnd.call(n,y,E[y]))}};return e(),M&&d(),h.addEventListener?(T.addEventListener(w,z,!1),T.addEventListener("click",z,!1),h.transitions&&(T.addEventListener("webkitTransitionEnd",z,!1),T.addEventListener("msTransitionEnd",z,!1),T.addEventListener("oTransitionEnd",z,!1),T.addEventListener("otransitionend",z,!1),T.addEventListener("transitionend",z,!1)),window.addEventListener("resize",z,!1)):window.onresize=function(){e()},{setup:function(){e()},slide:function(n,t){l(),r(n,t)},prev:function(){l(),i()},next:function(){l(),o()},getPos:function(){return y},getNumSlides:function(){return b},kill:function(){l(),T.style.width="auto",T.style.left=0;for(var n=E.length;n--;){var t=E[n];t.style.width="100%",t.style.left=0,h.transitions&&u(n,0,0)}h.addEventListener?(T.removeEventListener(w,z,!1),T.removeEventListener("click",z,!1),T.removeEventListener("webkitTransitionEnd",z,!1),T.removeEventListener("msTransitionEnd",z,!1),T.removeEventListener("oTransitionEnd",z,!1),T.removeEventListener("otransitionend",z,!1),T.removeEventListener("transitionend",z,!1),window.removeEventListener("resize",z,!1)):window.onresize=null}}}}(window.jQuery||window.Zepto)&&!function(n){n.fn.Swipe=function(t){return this.each(function(){n(this).data("Swipe",new Swipe(n(this)[0],t))})}}(window.jQuery||window.Zepto);